<Window x:Class="pANEL.DashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="pANEL â€” Dashboard"
        Height="620" Width="900"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResize"
        MinWidth="760" MinHeight="520"
        Loaded="Window_Loaded">

    <Window.Resources>
        <!-- Fade-in -->
        <Storyboard x:Key="DashFadeIn">
            <DoubleAnimation Storyboard.TargetName="RootCard"
                             Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:0.45"/>
        </Storyboard>

        <!-- Nav Button Style -->
        <Style x:Key="NavBtn" TargetType="RadioButton">
            <Setter Property="Background"      Value="Transparent"/>
            <Setter Property="Foreground"      Value="{StaticResource BrushTextSecondary}"/>
            <Setter Property="FontFamily"      Value="Segoe UI"/>
            <Setter Property="FontSize"        Value="13"/>
            <Setter Property="Height"          Value="42"/>
            <Setter Property="Cursor"          Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="GroupName"       Value="NavGroup"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border x:Name="Bg"
                                Background="Transparent"
                                CornerRadius="10"
                                Padding="14,0"
                                Margin="4,2">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBlock x:Name="Icon"
                                           Text="{Binding Tag, RelativeSource={RelativeSource TemplatedParent}}"
                                           FontSize="15"
                                           Margin="0,0,10,0"
                                           VerticalAlignment="Center"/>
                                <ContentPresenter VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="Bg" Property="Background" Value="#1E1B4B"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Bg" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#7C3AED" BlurRadius="10"
                                                          ShadowDepth="0" Opacity="0.35"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bg" Property="Background" Value="#1A1840"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Stat Card Style -->
        <Style x:Key="StatCard" TargetType="Border">
            <Setter Property="Background" Value="#14142B"/>
            <Setter Property="CornerRadius" Value="14"/>
            <Setter Property="Padding" Value="22,18"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#000" BlurRadius="16"
                                      ShadowDepth="0" Opacity="0.35"/>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <!-- Outer shadow -->
    <Border CornerRadius="16" Margin="16">
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="40"
                              ShadowDepth="0" Opacity="0.8"/>
        </Border.Effect>

        <!-- Root card -->
        <Border x:Name="RootCard"
                Background="{StaticResource BrushBgDark}"
                CornerRadius="16"
                ClipToBounds="True"
                Opacity="0">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="210"/>   <!-- Sidebar -->
                    <ColumnDefinition Width="*"/>     <!-- Content -->
                </Grid.ColumnDefinitions>

                <!-- ================================================
                     SIDEBAR
                ================================================= -->
                <Border Grid.Column="0"
                        Background="{StaticResource BrushBgCard}"
                        CornerRadius="16,0,0,16">

                    <DockPanel LastChildFill="False">

                        <!-- Brand -->
                        <StackPanel DockPanel.Dock="Top"
                                    Margin="22,28,22,24">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse Width="38" Height="38">
                                    <Ellipse.Fill>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#7C3AED" Offset="0"/>
                                            <GradientStop Color="#3B82F6" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Ellipse.Fill>
                                </Ellipse>
                                <TextBlock Text="pANEL"
                                           FontFamily="Segoe UI"
                                           FontSize="20"
                                           FontWeight="Bold"
                                           Foreground="{StaticResource BrushTextPrimary}"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,0"/>
                            </StackPanel>
                            <TextBlock x:Name="TxtVersion"
                                       Text="v1.0.0  â€¢  Licensed"
                                       FontFamily="Segoe UI"
                                       FontSize="10.5"
                                       Foreground="{StaticResource BrushTextMuted}"
                                       Margin="0,6,0,0"/>
                        </StackPanel>

                        <!-- Divider -->
                        <Border DockPanel.Dock="Top"
                                Height="1"
                                Background="{StaticResource BrushBorder}"
                                Margin="18,0,18,12"/>

                        <!-- Nav Items -->
                        <StackPanel DockPanel.Dock="Top" Margin="10,0">
                            <RadioButton Content="Dashboard" Tag="ðŸ "
                                         Style="{StaticResource NavBtn}"
                                         IsChecked="True"
                                         Checked="NavBtn_Checked" x:Name="NavDash"/>
                            <RadioButton Content="My License" Tag="ðŸ”‘"
                                         Style="{StaticResource NavBtn}"
                                         Checked="NavBtn_Checked" x:Name="NavLicense"/>
                            <RadioButton Content="Settings" Tag="âš™ï¸"
                                         Style="{StaticResource NavBtn}"
                                         Checked="NavBtn_Checked" x:Name="NavSettings"/>
                            <RadioButton Content="About" Tag="â„¹ï¸"
                                         Style="{StaticResource NavBtn}"
                                         Checked="NavBtn_Checked" x:Name="NavAbout"/>
                        </StackPanel>

                        <!-- User info + Logout at bottom -->
                        <StackPanel DockPanel.Dock="Bottom" Margin="14,0,14,20">
                            <Border Height="1"
                                    Background="{StaticResource BrushBorder}"
                                    Margin="4,0,4,14"/>
                            <!-- User chip -->
                            <Border Background="#1E1E3F"
                                    CornerRadius="10"
                                    Padding="12,10"
                                    Margin="0,0,0,10">
                                <StackPanel Orientation="Horizontal">
                                    <Ellipse Width="32" Height="32">
                                        <Ellipse.Fill>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                <GradientStop Color="#7C3AED" Offset="0"/>
                                                <GradientStop Color="#3B82F6" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Ellipse.Fill>
                                    </Ellipse>
                                    <StackPanel Margin="10,0,0,0">
                                        <TextBlock x:Name="TxtUserName"
                                                   Text="User"
                                                   FontFamily="Segoe UI"
                                                   FontSize="12"
                                                   FontWeight="SemiBold"
                                                   Foreground="{StaticResource BrushTextPrimary}"/>
                                        <TextBlock Text="Active"
                                                   FontFamily="Segoe UI"
                                                   FontSize="10"
                                                   Foreground="#22C55E"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                            <Button Content="Logout"
                                    Height="36"
                                    Background="#1C1C35"
                                    Foreground="{StaticResource BrushTextSecondary}"
                                    FontFamily="Segoe UI"
                                    FontSize="12"
                                    BorderThickness="1"
                                    BorderBrush="{StaticResource BrushBorder}"
                                    Cursor="Hand"
                                    Click="LogoutBtn_Click">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="Bg"
                                                Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="8">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                              VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="Bg" Property="Background" Value="#2A1A1A"/>
                                                <Setter TargetName="Bg" Property="BorderBrush" Value="#EF4444"/>
                                                <Setter Property="Foreground" Value="#EF4444"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </StackPanel>

                    </DockPanel>
                </Border>

                <!-- ================================================
                     MAIN CONTENT AREA
                ================================================= -->
                <DockPanel Grid.Column="1">

                    <!-- Title bar (drag zone) -->
                    <Border DockPanel.Dock="Top"
                            Height="48"
                            Background="Transparent"
                            MouseLeftButtonDown="TitleBar_MouseDown">
                        <Grid Margin="24,0,14,0">
                            <TextBlock x:Name="TxtPageTitle"
                                       Text="Dashboard"
                                       FontFamily="Segoe UI"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource BrushTextPrimary}"
                                       VerticalAlignment="Center"/>
                            <!-- Window controls -->
                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center">
                                <Button Width="28" Height="28" Content="â”€"
                                        Tag="Min" Click="WinCtrl_Click"
                                        ToolTip="Minimize"
                                        Style="{x:Null}">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="Bg" CornerRadius="6" Background="Transparent">
                                                <TextBlock Text="â”€" Foreground="#64748B"
                                                           FontSize="14"
                                                           HorizontalAlignment="Center"
                                                           VerticalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="Bg" Property="Background" Value="#334155"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <Button Width="28" Height="28" Content="âœ•"
                                        Tag="Close" Click="WinCtrl_Click"
                                        ToolTip="Close"
                                        Style="{x:Null}">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="Bg" CornerRadius="6" Background="Transparent">
                                                <TextBlock Text="âœ•" Foreground="#64748B"
                                                           FontSize="12"
                                                           HorizontalAlignment="Center"
                                                           VerticalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="Bg" Property="Background" Value="#EF4444"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Divider -->
                    <Border DockPanel.Dock="Top"
                            Height="1"
                            Background="{StaticResource BrushBorder}"/>

                    <!-- Page frames (only one visible at a time) -->
                    <Grid Margin="28,20,28,24">

                        <!-- â”€â”€â”€â”€ PAGE: DASHBOARD â”€â”€â”€â”€ -->
                        <ScrollViewer x:Name="PageDash"
                                      VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled">
                            <StackPanel>
                                <!-- Welcome banner -->
                                <Border CornerRadius="14" Padding="24,20" Margin="0,0,0,22">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#1E1B4B" Offset="0"/>
                                            <GradientStop Color="#172554" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <Grid>
                                        <StackPanel>
                                            <TextBlock x:Name="TxtWelcome"
                                                       FontFamily="Segoe UI"
                                                       FontSize="20"
                                                       FontWeight="Bold"
                                                       Foreground="White"/>
                                            <TextBlock Text="Your license is active and verified."
                                                       FontFamily="Segoe UI"
                                                       FontSize="12.5"
                                                       Foreground="#A5B4FC"
                                                       Margin="0,4,0,0"/>
                                        </StackPanel>
                                        <Ellipse Width="70" Height="70"
                                                 HorizontalAlignment="Right"
                                                 VerticalAlignment="Center"
                                                 Opacity="0.1">
                                            <Ellipse.Fill>
                                                <RadialGradientBrush>
                                                    <GradientStop Color="White" Offset="0"/>
                                                    <GradientStop Color="Transparent" Offset="1"/>
                                                </RadialGradientBrush>
                                            </Ellipse.Fill>
                                        </Ellipse>
                                    </Grid>
                                </Border>

                                <!-- Stat cards row -->
                                <UniformGrid Columns="3" Rows="1" Margin="0,0,0,20">
                                    <!-- Status -->
                                    <Border Style="{StaticResource StatCard}" Margin="0,0,10,0">
                                        <StackPanel>
                                            <TextBlock Text="Status" FontFamily="Segoe UI"
                                                       FontSize="11" Foreground="{StaticResource BrushTextMuted}"/>
                                            <TextBlock Text="âœ…  Active"
                                                       FontFamily="Segoe UI"
                                                       FontSize="18" FontWeight="Bold"
                                                       Foreground="#22C55E"
                                                       Margin="0,8,0,0"/>
                                        </StackPanel>
                                    </Border>
                                    <!-- Expiry -->
                                    <Border Style="{StaticResource StatCard}" Margin="5,0,5,0">
                                        <StackPanel>
                                            <TextBlock Text="Expiry" FontFamily="Segoe UI"
                                                       FontSize="11" Foreground="{StaticResource BrushTextMuted}"/>
                                            <TextBlock x:Name="TxtExpiry"
                                                       FontFamily="Segoe UI"
                                                       FontSize="16" FontWeight="Bold"
                                                       Foreground="{StaticResource BrushAccentGlow}"
                                                       Margin="0,8,0,0"/>
                                        </StackPanel>
                                    </Border>
                                    <!-- Key -->
                                    <Border Style="{StaticResource StatCard}" Margin="10,0,0,0">
                                        <StackPanel>
                                            <TextBlock Text="License Key" FontFamily="Segoe UI"
                                                       FontSize="11" Foreground="{StaticResource BrushTextMuted}"/>
                                            <TextBlock x:Name="TxtKeyDisplay"
                                                       FontFamily="Consolas"
                                                       FontSize="13" FontWeight="Bold"
                                                       Foreground="{StaticResource BrushTextPrimary}"
                                                       Margin="0,8,0,0"
                                                       TextTrimming="CharacterEllipsis"/>
                                        </StackPanel>
                                    </Border>
                                </UniformGrid>

                                <!-- Info section -->
                                <Border Style="{StaticResource StatCard}">
                                    <StackPanel>
                                        <TextBlock Text="Quick Start"
                                                   FontFamily="Segoe UI"
                                                   FontSize="14" FontWeight="SemiBold"
                                                   Foreground="{StaticResource BrushTextPrimary}"
                                                   Margin="0,0,0,14"/>
                                        <TextBlock Text="â†’  Your panel is ready to use."
                                                   FontFamily="Segoe UI" FontSize="13"
                                                   Foreground="{StaticResource BrushTextSecondary}"
                                                   Margin="0,0,0,6"/>
                                        <TextBlock Text="â†’  Navigate using the sidebar menu."
                                                   FontFamily="Segoe UI" FontSize="13"
                                                   Foreground="{StaticResource BrushTextSecondary}"
                                                   Margin="0,0,0,6"/>
                                        <TextBlock Text="â†’  All features unlocked with your license."
                                                   FontFamily="Segoe UI" FontSize="13"
                                                   Foreground="{StaticResource BrushTextSecondary}"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>

                        <!-- â”€â”€â”€â”€ PAGE: MY LICENSE â”€â”€â”€â”€ -->
                        <ScrollViewer x:Name="PageLicense"
                                      Visibility="Collapsed"
                                      VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <Border Style="{StaticResource StatCard}">
                                    <StackPanel>
                                        <TextBlock Text="License Details"
                                                   FontFamily="Segoe UI"
                                                   FontSize="16" FontWeight="Bold"
                                                   Foreground="{StaticResource BrushTextPrimary}"
                                                   Margin="0,0,0,18"/>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="140"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="36"/>
                                                <RowDefinition Height="36"/>
                                                <RowDefinition Height="36"/>
                                                <RowDefinition Height="36"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Owner"
                                                       FontFamily="Segoe UI" FontSize="13"
                                                       Foreground="{StaticResource BrushTextMuted}"
                                                       VerticalAlignment="Center"/>
                                            <TextBlock x:Name="TxtLicOwner"
                                                       Grid.Row="0" Grid.Column="1"
                                                       FontFamily="Segoe UI" FontSize="13"
                                                       Foreground="{StaticResource BrushTextPrimary}"
                                                       FontWeight="SemiBold"
                                                       VerticalAlignment="Center"/>

                                            <TextBlock Grid.Row="1" Grid.Column="0" Text="License Key"
                                                       FontFamily="Segoe UI" FontSize="13"
                                                       Foreground="{StaticResource BrushTextMuted}"
                                                       VerticalAlignment="Center"/>
                                            <TextBlock x:Name="TxtLicKey"
                                                       Grid.Row="1" Grid.Column="1"
                                                       FontFamily="Consolas" FontSize="13"
                                                       Foreground="#A855F7"
                                                       FontWeight="Bold"
                                                       VerticalAlignment="Center"/>

                                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Expiry"
                                                       FontFamily="Segoe UI" FontSize="13"
                                                       Foreground="{StaticResource BrushTextMuted}"
                                                       VerticalAlignment="Center"/>
                                            <TextBlock x:Name="TxtLicExpiry"
                                                       Grid.Row="2" Grid.Column="1"
                                                       FontFamily="Segoe UI" FontSize="13"
                                                       Foreground="{StaticResource BrushTextPrimary}"
                                                       VerticalAlignment="Center"/>

                                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Status"
                                                       FontFamily="Segoe UI" FontSize="13"
                                                       Foreground="{StaticResource BrushTextMuted}"
                                                       VerticalAlignment="Center"/>
                                            <TextBlock Text="âœ…  Active &amp; Valid"
                                                       Grid.Row="3" Grid.Column="1"
                                                       FontFamily="Segoe UI" FontSize="13"
                                                       Foreground="#22C55E"
                                                       FontWeight="SemiBold"
                                                       VerticalAlignment="Center"/>
                                        </Grid>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>

                        <!-- â”€â”€â”€â”€ PAGE: SETTINGS â”€â”€â”€â”€ -->
                        <StackPanel x:Name="PageSettings" Visibility="Collapsed">
                            <Border Style="{StaticResource StatCard}">
                                <StackPanel>
                                    <TextBlock Text="Settings"
                                               FontFamily="Segoe UI" FontSize="16" FontWeight="Bold"
                                               Foreground="{StaticResource BrushTextPrimary}"
                                               Margin="0,0,0,16"/>
                                    <TextBlock Text="Settings page coming soon..."
                                               FontFamily="Segoe UI" FontSize="13"
                                               Foreground="{StaticResource BrushTextMuted}"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- â”€â”€â”€â”€ PAGE: ABOUT â”€â”€â”€â”€ -->
                        <StackPanel x:Name="PageAbout" Visibility="Collapsed">
                            <Border Style="{StaticResource StatCard}">
                                <StackPanel HorizontalAlignment="Center">
                                    <Ellipse Width="60" Height="60"
                                             HorizontalAlignment="Center"
                                             Margin="0,0,0,16">
                                        <Ellipse.Fill>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                <GradientStop Color="#7C3AED" Offset="0"/>
                                                <GradientStop Color="#3B82F6" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Ellipse.Fill>
                                    </Ellipse>
                                    <TextBlock Text="pANEL"
                                               FontFamily="Segoe UI" FontSize="22" FontWeight="Bold"
                                               Foreground="{StaticResource BrushTextPrimary}"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock Text="Version 1.0.0"
                                               FontFamily="Segoe UI" FontSize="12"
                                               Foreground="{StaticResource BrushTextMuted}"
                                               HorizontalAlignment="Center"
                                               Margin="0,6,0,12"/>
                                    <TextBlock Text="Built with WPF + Firebase"
                                               FontFamily="Segoe UI" FontSize="12"
                                               Foreground="{StaticResource BrushTextSecondary}"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock Text="Â© 2026 pANEL. All rights reserved."
                                               FontFamily="Segoe UI" FontSize="11"
                                               Foreground="{StaticResource BrushTextMuted}"
                                               HorizontalAlignment="Center"
                                               Margin="0,8,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                    </Grid>
                </DockPanel>

            </Grid>
        </Border>
    </Border>
</Window>
